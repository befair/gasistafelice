{% load basic_tags %}
<!DOCTYPE html>
<html ng-app="ngGF" ng-controller='AppController as app')>
  <head>

    <title>Gasista Felice</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <!-- Bootstrap -->
    <link href="/static/ui_ric1/css/datepicker.css" rel="stylesheet">
    <link href="/static/ui_ric1/css/style.css" rel="stylesheet">  
    <link href="/static/ui_ric1/css/font-awesome.css" rel="stylesheet">

    <!-- a cosa serve questo css di una vecchia versione di jQueryUI -->

    <link href="/static/ui_ric1/css/ngDialog.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/ui_ric1/css/ngDialog-theme-default.css">
    <link rel="stylesheet" href="/static/ui_ric1/css/ngDialog-theme-flat.css">
    <link rel="stylesheet" href="/static/ui_ric1/css/ngDialog-custom.css">
    <!--<link href="//fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet" type="text/css">
    <link href='http://fonts.googleapis.com/css?family=Oswald:300' rel='stylesheet' type='text/css'>-->
    <!-- <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700|Montserrat:700|Pacifico" rel="stylesheet" type="text/css">  
    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.2/themes/smoothness/jquery-ui.css">
    <script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
    <script src="//code.jquery.com/ui/1.11.2/jquery-ui.min.js"></script>
    -->
 {% comment %} DA TOGLIERE SE NON SERVONO, versione replicate o aggiuntive 
    <script src="/static/ui_ric1/js/jquery-1.11.1.min.js"></script>
    <script src="/static/ui_ric1/js/jquery-ui-1.10.4.min.js"></script>
    <script src="/static/ui_ric1/js/jquery-ui.js"></script>
 {% endcomment %}
    <script type="text/javascript">
        var app_name = 'ui_ric1';
        var static_url = '/static/';
        var url_prefix = '{% dj_settings "URL_PREFIX" %}';

        var url_elements = window.location.toString().split('/');
        var absurl_pre = url_elements[0]+'//'+url_elements[2]+'/'+url_prefix;
        var absurl_static = url_elements[0]+'//'+url_elements[2]+static_url+app_name+'/';
        var absurl_api = absurl_pre+'api/v1/';

        var person_id = '{{ user.person.pk }}';
        var default_gas_id = '{{ user.person.gas_list.0.pk }}';
        var default_gasmember_id = '{{ user.person.gasmembers.0.pk }}';
    </script>

    <!--
    ******************
    Credits go to: http://opensourcehacker.com/2012/01/09/zoom-on-orientation-change-fix-for-mobile-browsers-mobilizing-websites-with-responsive-design-and-html5-part-8/
    ******************


    Don't break scale on iPad rotate.
    By default iPad re-zooms the page when the device orientation changes.
    The heuristics here do not work always; our page got zoomed in
    though it should be max zoomed out.
    This snippet fixes the situation so that you can still zoom in, but when
    the device is rotated the scale is restored.

    -->
      
    <script type="text/javascript">
      (function(doc) {

          var addEvent = 'addEventListener',
              type = 'gesturestart',
              qsa = 'querySelectorAll',
              scales = [1, 1],
              meta = qsa in doc ? doc[qsa]('meta[name=viewport]') : [];

          function fix() {
              meta.content = 'width=device-width,minimum-scale=' + scales[0] + ',maximum-scale=' + scales[1];
              doc.removeEventListener(type, fix, true);
          }

          if ((meta = meta[meta.length - 1]) && addEvent in doc) {
              fix();
              scales = [.25, 1.6];
              doc[addEvent](type, fix, true);
          }

      }(document));

    </script>


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

  </head>
  <body>
  <div id="wrap">
     
      <nav class="userbar" role="navigation">
          <div class="logo">
              <img src="/static/ui_ric1/img/befair.png" alt="..." class="imglogo">
          </div>
          
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navhead">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <div class="brandname">GF</div>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"> <!-- ng-controller="gas_controller" --> 
          
            <div class="navbar-left">
                <ul class="optionlist nav navbar-nav">
                        {% for gas in gas_list %}
                        <li class="{% if forloop.first %}active{% endif %} "> 
                            <a href="{% url 'page_ui_ric1' %}"> <!-- ng-click="getID({{gas.pk}});" --> {{gas}}
                            </a>
                        </li>
                        {% endfor %}
                </ul>
                <ul class="optionlist nav navbar-nav">
                  <li markable>
                      <a ng-link="order()" href=""> 
                          <i class="fa fa-book"></i>Ordinare 
                      </a>
                  </li>

                 <li markable>
                     <a ng-link="basket()" href="">
                       <i class="fa fa-shopping-cart"></i>Paniere
                     </a> 
                 </li>
                  <li markable>
                      <a ng-link="cash()" href="">
                    <i class="fa fa-user"></i>Conto
                    </a>
                  </li>     
                </ul>
                       
            </div>
         <div class="navbar-right">
             <a class="navpic" ng-link="profile()" href="">
                 <img src="/static/ui_ric1/img/user_pic.png" alt="..." class="imgpic">
             </a>
             <a class="titlenav" ng-link="profile()" href="">
                 Ciao {{ user.person.name }} 
             </a>
        </div>    
          
        </div><!-- /.navbar-collapse -->
      </nav>
      <div class="cont-gas"> <!-- Container -->
        <div id="cashresume">
            <h2>Il tuo saldo nel {{ gas_list.0.name}}</h2>
            <div id="cashresume-body">
            Attuale: <span class="balance">&#8364; {{ user.person.gasmembers.0.balance|floatformat:2 }}</span><br />
            Dopo la consegna: <span class="balance">&#8364; {{ user.person.gasmembers.0.balance_expected_post_delivery|floatformat:"2"}}</span><br />
            </div>

        </div>
        <!-- 1째 row -->
                                
          <div class="first_block"><!-- 1째 col-md-8 -->
              <div class="tab-content tab-gas">
                    
                    <p style="text-align:center" ng-hide="app.dataLoaded">
                        Un attimo che carico...
                        <i class="fa fa-spinner fa-spin"></i>
                    </p>  
                    <!-- angular templating -->
                    <!-- this is where content will be injected -->
                    <div ng-viewport>
                    </div>
              </div>

          </div><!-- /1째 col-md-8 -->

        <!-- 1째 row -->

      </div> <!-- /Container -->


    </div><!-- /Wrap -->
    

    <div id="footer">
        <div class="container">
            <p class="text-muted">GASISTA FELICE - NEW UI - V. {% des_version %}</p>
        </div>
    </div> 


    <script src="/static/ui_ric1/bower_components/angular/angular.min.js"></script>
    <script src="/static/ui_ric1/bower_components/angular-new-router/dist/router.es5.min.js"></script>
    <script src="/static/ui_ric1/bower_components/angular-bootstrap/ui-bootstrap.min.js"></script>
    <script src="/static/ui_ric1/bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>

    <script src="/static/ui_ric1/js/angular-locale_it-it.js"></script>        
    <script src="/static/ui_ric1/js/ngDialog.min.js"></script>
    <script src="/static/ui_ric1/js/modernizr.js"></script>
    <!-- <script src="/static/ui_ric1/js/local.js"></script> -->
    <script src="/static/ui_ric1/js/bootstrap-datepicker.js"></script>  

    <script src="/static/ui_ric1/app.js"></script>
    <script src="/static/ui_ric1/components/order/order.js"></script>
    <script src="/static/ui_ric1/components/basket/basket.js"></script>
    <script src="/static/ui_ric1/components/cash/cash.js"></script>
    <script src="/static/ui_ric1/components/profile/profile.js"></script>

</body>
</html>
